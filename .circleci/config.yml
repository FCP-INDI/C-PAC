setup: true
version: 2.1
orbs:
  continuation: circleci/continuation@0.2.0
parameters:
  GHA_Actor:
    type: string
    default: ""
  GHA_Action:
    type: string
    default: ""
  GHA_Event:
    type: string
    default: ""
  GHA_Meta:
    type: string
    default: ""
workflows:
  setup:
    when:  << pipeline.parameters.GHA_Action >>
    jobs:
      - continuation/continue:
          configuration_path: ".circleci/main.yml"
          parameters: /home/circleci/test.json
          pre-steps:
            - run:
                command: |
                  echo '{ "owner": "'${CIRCLE_PROJECT_USERNAME}'", "branch": "'${CIRCLE_BRANCH}'" }' >> /home/circleci/test.json
                  cat /home/circleci/test.json
